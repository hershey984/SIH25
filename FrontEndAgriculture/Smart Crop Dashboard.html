<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KrishiMitra Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:Arial, sans-serif;}
body {display:flex; background:#f7fdf8; color:#333;}

/* Sidebar */
.sidebar {width: 240px; background:#0f9d58; color:#fff; height:100vh; padding:20px; position:fixed;}
.sidebar h2 {font-size:20px; margin-bottom:20px;}
.sidebar ul {list-style:none;}
.sidebar ul li {padding:12px; margin:8px 0; background:#16a765; border-radius:8px; cursor:pointer; transition:.2s; display:flex; justify-content:space-between; align-items:center;}
.sidebar ul li:hover {background:#1db874;}
.sidebar ul li .login-icon {font-size:18px; cursor:pointer;}

/* Main */
.main {margin-left:260px; padding:20px; width:100%;}
.header {background:#0f9d58; color:#fff; padding:20px; border-radius:10px; margin-bottom:20px; display:flex; justify-content:space-between; align-items:center;}
.header h1 {font-size:22px;}
.header p {font-size:14px; margin-top:5px; color:#e0f7df;}

/* Cards */
.cards {display:flex; gap:20px; flex-wrap:wrap; margin-bottom:20px; cursor:pointer;}
.card {flex:1; min-width:200px; background:#fff; border-radius:10px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,.1); text-align:center; transition:.3s;}
.card:hover {transform:scale(1.05); box-shadow:0 4px 12px rgba(0,0,0,.2);}

/* Weather */
.weather {display:flex; gap:20px; margin-bottom:20px;}
.weather .box {flex:1; background:#fff; padding:15px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.1); text-align:center; cursor:pointer; transition:.3s;}
.weather .box:hover {transform:scale(1.05);}
.weather h3 {font-size:14px; margin-bottom:8px;}

/* Market Prices */
.market {background:#fff; border-radius:10px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,.1); margin-bottom:20px;}
.market h2 {font-size:18px; margin-bottom:10px;}
.price-item {display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid #eee;}
.price-item:last-child {border-bottom:none;}
.price-name {font-weight:bold;}
.price-value {display:flex; gap:10px; align-items:center;}
.up {color:green; font-weight:bold;}
.down {color:red; font-weight:bold;}

/* Alerts and Community */
.grid {display:grid; grid-template-columns:2fr 1fr; gap:20px;}
.section {background:#fff; border-radius:10px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,.1);}
.section h2 {font-size:18px; margin-bottom:10px;}
.alert {margin:10px 0; padding:10px; border-left:4px solid red; background:#ffeaea; border-radius:6px;}
.community-item {margin:10px 0; padding:10px; border-left:4px solid #0f9d58; background:#eaffea; border-radius:6px;}

/* Weather Detail Popup */
.weather-detail {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;}
.weather-detail .content {background:#fff; padding:20px; border-radius:15px; width:90%; max-width:600px; text-align:center;}
.weather-detail .close-btn {background:#0f9d58; color:white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; margin-top:10px;}
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
<h2>KrishiMitra</h2>
<ul>
      <li>Dashboard</li>
      <li onclick="window.location.href='plantdoctor.html'">Plant Doctor</li>
      <li onclick="window.location.href='ai.html'">Chatbot</li>
      <li onclick="window.location.href='Community.html'">Community</li>
      <li onclick="window.location.href='Alert.html'">Alerts</li>
    </ul>
</div>

<!-- Main -->
<div class="main">
<div class="header">
  <div>
    <h1 id="welcomeText">Welcome!</h1>
    <p>Smart Crop Advisory Dashboard</p>
  </div>
  <div id="userDisplay" style="display:none; font-weight:bold;">üë®‚Äçüåæ <span id="username">Farmer</span></div>
</div>

<!-- Cards -->
<div class="cards">
  <div class="card" onclick="window.location.href='plantdoctor.html'">üå± Plant Doctor <br><small>Upload plant photo for diagnosis</small></div>
  <div class="card" onclick="window.location.href='ai.html'">ü§ñ AI Assistant <br><small>Get farming advice instantly</small></div>
  <div class="card" onclick="window.location.href='Community.html'">üë• Community <br><small>Connect with farmers</small></div>
</div>

<h2>Today's Weather | ‡§Ü‡§ú ‡§ï‡§æ ‡§Æ‡•å‡§∏‡§Æ</h2>
<div class="weather">
  <div class="box" onclick="showWeatherDetail('Temperature', [28,30,29,27,28,26,25])"><h3>Temperature</h3><p>28¬∞C</p></div>
  <div class="box" onclick="showWeatherDetail('Humidity', [65,60,62,68,70,66,64])"><h3>Humidity</h3><p>65%</p></div>
  <div class="box" onclick="showWeatherDetail('Rainfall', [12,5,0,20,15,0,8])"><h3>Rainfall</h3><p>12mm</p></div>
  <div class="box" onclick="showWeatherDetail('Wind Speed', [8,10,12,7,9,6,8])"><h3>Wind Speed</h3><p>8 km/h</p></div>
</div>

<!-- Market Prices -->
<div class="market">
<h2>‚Çπ Market Prices | ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ</h2>
<div class="price-item">
  <span class="price-name">Wheat ‡§ó‡•á‡§π‡•Ç‡§Ç</span>
  <span class="price-value">‚Çπ<span id="wheatPrice">2150</span> <span id="wheatChange" class="up">+5%</span></span>
</div>
<div class="price-item">
  <span class="price-name">Rice ‡§ö‡§æ‡§µ‡§≤</span>
  <span class="price-value">‚Çπ<span id="ricePrice">1890</span> <span id="riceChange" class="up">+2%</span></span>
</div>
<div class="price-item">
  <span class="price-name">Cotton ‡§ï‡§™‡§æ‡§∏</span>
  <span class="price-value">‚Çπ<span id="cottonPrice">5200</span> <span id="cottonChange" class="down">-3%</span></span>
</div>
</div>

<div class="grid">
  <!-- Alerts -->
  <div class="section">
    <h2>‚ö†Ô∏è Critical Alerts | ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ö‡§≤‡§∞‡•ç‡§ü</h2>
    <div class="alert">Government Scheme Alert: New Subsidy Available</div>
    <div class="alert">Emergency: Extreme Cold Wave</div>
    <div class="alert">Pest Outbreak Alert: Brown Plant Hopper</div>
    <div class="alert">Heavy Rainfall Alert</div>
  </div>

  <!-- Community -->
  <div class="section">
    <h2>üë• Community Updates | ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø</h2>
    <div class="community-item">üåæ Wheat Crop Pest Management</div>
    <div class="community-item">üåß Rice Care After Rain</div>
    <div class="community-item">üçÉ Easy Way to Make Organic Fertilizer</div>
  </div>
</div>
</div>



<!-- Weather Detail Modal -->
<div class="weather-detail" id="weatherModal">
<div class="content">
  <h2 id="weatherTitle">Weather</h2>
  <canvas id="weatherChart" width="400" height="200"></canvas>
  <button class="close-btn" onclick="closeWeatherModal()">Close</button>
</div>
</div>

<script>
function showAlert(msg){ alert(msg); }



// Login Modal
function openLoginModal(){ document.getElementById('loginModal').style.display='flex'; }
function closeLoginModal(){ document.getElementById('loginModal').style.display='none'; }
function loginUser(){
  let name = document.getElementById('loginName').value.trim();
  if(!name){ alert("Please enter your name!"); return; }
  document.getElementById('loginModal').style.display='none';
  document.getElementById('welcomeText').innerText = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á " + name + "! üåæ";
  document.getElementById('userDisplay').style.display='block';
  document.getElementById('username').innerText = name;
  alert("Welcome, " + name + "!");
}

// Weather detail
let weatherChart;
function showWeatherDetail(type, data){
  document.getElementById('weatherModal').style.display='flex';
  document.getElementById('weatherTitle').innerText = type + " - Last 7 days";
  if(weatherChart) weatherChart.destroy();
  const ctx = document.getElementById('weatherChart').getContext('2d');
  weatherChart = new Chart(ctx, {
    type:'line',
    data:{
      labels:['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6','Day 7'],
      datasets:[{
        label:type,
        data:data,
        backgroundColor:'rgba(16,157,88,0.2)',
        borderColor:'#0f9d58',
        borderWidth:2,
        fill:true,
        tension:0.3
      }]
    },
    options:{ responsive:true, plugins:{legend:{display:false}} }
  });
}
function closeWeatherModal(){ document.getElementById('weatherModal').style.display='none'; }

// Dynamic Market prices
function updatePrices(){
  const wheatPrice = document.getElementById('wheatPrice'); const wheatChange = document.getElementById('wheatChange');
  let price = 2150 + Math.floor(Math.random()*100 -50); let change=((price-2150)/2150*100).toFixed(1);
  wheatPrice.innerText=price; wheatChange.innerText=(change>=0?"+":"")+change+"%"; wheatChange.className=change>=0?"up":"down";

  const ricePrice = document.getElementById('ricePrice'); const riceChange = document.getElementById('riceChange');
  let rprice=1890 + Math.floor(Math.random()*60 -30); let rchange=((rprice-1890)/1890*100).toFixed(1);
  ricePrice.innerText=rprice; riceChange.innerText=(rchange>=0?"+":"")+rchange+"%"; riceChange.className=rchange>=0?"up":"down";

  const cottonPrice = document.getElementById('cottonPrice'); const cottonChange=document.getElementById('cottonChange');
  let cprice=5200 + Math.floor(Math.random()*200 -100); let cchange=((cprice-5200)/5200*100).toFixed(1);
  cottonPrice.innerText=cprice; cottonChange.innerText=(cchange>=0?"+":"")+cchange+"%"; cottonChange.className=cchange>=0?"up":"down";
}
setInterval(updatePrices,5000);
</script>

</body>
</html>
